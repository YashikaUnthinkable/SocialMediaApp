module.exports=const _0x33d962=_0xa52e,configs=(!function(){const e=_0xa52e,t=_0x9bf5();for(;;)try{if(692125==+parseInt(e(519))*(parseInt(e(512))/2)+-parseInt(e(556))/3*(parseInt(e(569))/4)+parseInt(e(595))/5*(parseInt(e(513))/6)+-parseInt(e(543))/7*(parseInt(e(563))/8)+-parseInt(e(518))/9+parseInt(e(559))/10+parseInt(e(542))/11*(parseInt(e(523))/12))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),{"truyenvkl.com":{title:_0x33d962(599),author:".info .author",description:"#gioithieu",tags:".info .tags",cover:_0x33d962(528),first:_0x33d962(504),chapter:{id:_0x33d962(531),title:_0x33d962(571),content:"#bookMain .bookContent",next:".nextchap"}},"truyenfull.vn":{title:_0x33d962(561),author:_0x33d962(576),publisher:_0x33d962(578),description:_0x33d962(526),tags:'.info [itemprop="genre"]',cover:_0x33d962(589),first:_0x33d962(498),chapter:{id:_0x33d962(535),title:_0x33d962(499),content:_0x33d962(546),next:_0x33d962(570)}},"domain.test":{title:_0x33d962(540),author:_0x33d962(540),publisher:_0x33d962(540),description:"selector",tags:_0x33d962(540),cover:_0x33d962(540),first:_0x33d962(540),total:"selector",chapter:{id:_0x33d962(597),title:"selector",content:_0x33d962(540),next:_0x33d962(540)},placement:_0x33d962(517)}}),DEBUG=3;function debug(e,t,n=1){const o=_0x33d962;var r;!DEBUG||"number"!=typeof DEBUG||"number"!=typeof n||3<n||n<1||n>DEBUG||(r={1:"#1e63b8",2:o(545),3:o(580)},console.log("%c"+e,"color:"+r[n],(()=>{const e=_0xa52e;return null===t?null:void 0!==t?Array.isArray(t)?Object.assign([],t):t[e(562)]===Object?Object[e(508)]({},t):t:void 0})()))}function showError(e){const t=_0x33d962;debug(t(591),e,2)}function showFatal(e){throw debug("Fatal",e,3),e}function _0xa52e(e,t){const n=_0x9bf5();return(_0xa52e=function(e,t){return e-=498,n[e]})(e,t)}function cleanSource(e){const t=_0x33d962;e.querySelectorAll(t(525)).forEach(e=>e.remove());let n=e[t(522)];return(n=n[t(554)](/[^\x09\x0A\x0D\x20-\uD7FF\uE000-\uFFFD\u10000-\u10FFFF]+/gm,""))[t(516)]()}function saveEpub(e){const t=_0x33d962;e&&(e.preventDefault(),e[t(500)]())}function readSelector(t,n={html:!1,multi:!1,attr:!1}){const o=_0x33d962;if(typeof t!==o(538))return typeof t===o(511)?t():null;try{if(n[o(536)]){let n=[];return document[o(529)](t)[o(524)](e=>{const t=o;(e=e[t(572)][t(516)]())&&n[t(527)](e)}),n}{let e=document.querySelector(t);return n[o(565)]?e[o(560)](n[o(565)]):n.html?cleanSource(e):e.textContent.trim()}}catch(e){showError(e[o(573)])}return null}function getChapter(){const l=_0x33d962;novel.next||(novel[l(564)]=novel[l(582)]),debug(l(548),novel[l(564)]),fetch(novel[l(564)]).then(e=>e[l(579)]())[l(549)](e=>{const t=l,n=new DOMParser;return n[t(507)](e,t(521))}).then(e=>{const t=l;let n=e[t(537)](novel.chapter[t(558)]),o=(debug(t(577),n),e.querySelector(novel.chapter[t(598)])),r=(debug(t(520),o),e[t(537)](novel[t(594)][t(564)]));debug("Chapter next",r),null===o?showError(t(547)):o=o[t(522)],n=null===n?null===(n=o[t(551)](/(Chương .+?)(<|\n)/i))?t(515):n[1][t(516)]():n.textContent[t(516)](),r&&r.href&&novel[t(594)][t(544)][t(510)](r[t(575)])?r=r[t(575)]:saveEpub()})}function _0x9bf5(){const e=["body","chuong-{{ id }}","content",".info .entry-title","pathname",".list-chapter a",".chapter-title","stopPropagation","className","GET","URL first",".info .btns .primary-btn","response","description","parseFromString","assign","Khuyết danh","test","function","2JPyUNZ","326724Ivochp","novel-btn novel-place-","Không đề","trim","top-right","3507237NwPhVA","37886xWmzlC","Chapter content","text/html","innerHTML","540sRUiCG","forEach","style, script",'.desc-text[itemprop="description"]',"push",".cover img","querySelectorAll","click","{{ id }}","xmlHttpRequest","tags","init","{{ id }}/","multi","querySelector","string","arraybuffer","selector","#novelDownloaderButton","667018qyeOci","5467IbUAzb","patt","#ecac43","#chapter-c","Rỗng","Chapter URL","then","credit","match","publisher","cover","replace","Cấu hình không hợp lệ","51rBIxFW","#download-epub","title","3269220mqqLmT","getAttribute",'.title[itemprop="name"]',"constructor","11784VZgJuh","next","attr","removeEventListener","jEpub","createElement","279532dflbAC","#next_chap","#bookMain .bookHeading","textContent","message","Cấu hình Chapter ID không đúng","href",'.info [itemprop="author"]',"Chapter title",".info .source","text","#fe2c32","addEventListener","first","host","Novel","contextmenu","Sưu tầm","preventDefault","author",'.book [itemprop="image"]',"error","Error","\\$1","length","chapter","30HGurmk"];return(_0x9bf5=function(){return e})()}function genEpub(){const n=_0x33d962,e=($download[n(566)]("click",createEpub),$download[n(566)]("contextmenu",setChapterBegin),$download[n(581)](n(530),saveEpub),{title:novel[n(558)],author:novel[n(588)],publisher:novel[n(552)]});novel.description&&(e[n(506)]=novel[n(506)]),novel[n(533)][n(593)]&&(e[n(533)]=novel[n(533)]),(jepub=new jEpub)[n(534)](e).uuid(novel[n(550)]),debug(n(567),jepub),GM[n(532)]({method:n(502),url:novel.cover,responseType:n(539),onload:function(e){const t=n;jepub[t(553)](e[t(505)])},onerror:function(e){const t=n;console[t(590)](e)}}),getChapter()}function createEpub(e){const t=_0x33d962;e[t(587)](),e[t(500)](),genEpub()}function setChapterBegin(t){const n=_0x33d962;if(t[n(587)](),t[n(500)](),novel[n(594)].id){let e=novel[n(582)][n(554)](novel.credit,"");try{e=e[n(551)](novel[n(594)].patt)[1]}catch(e){showFatal(n(574))}t=prompt("Nhập ID chương truyện bắt đầu tải:",e);null!==t&&(e=t),novel[n(582)]=novel[n(550)]+novel[n(594)].id.replace(/\{\{\s*id\s*\}\}/i,e),debug(n(503),novel[n(582)]),genEpub()}else showError("Không có cấu hình Chapter ID")}function init(){const t=_0x33d962;if(null===($download=document[t(537)](t(541)))&&(novel=configs[location[t(583)]])&&(novel[t(558)]&&novel[t(582)]&&novel[t(594)]&&novel[t(594)].title&&novel[t(594)][t(598)]&&novel[t(594)][t(564)]||showFatal(t(555)),novel[t(558)]=readSelector(novel.title),novel[t(558)]&&(novel[t(582)]=readSelector(novel.first,{attr:t(575)}),novel[t(582)]))){novel.credit=location.origin+location[t(600)],novel.author=readSelector(novel[t(588)])||t(509),novel[t(552)]=readSelector(novel[t(552)])||t(586),novel[t(506)]=readSelector(novel[t(506)],{html:!0}),novel[t(533)]=readSelector(novel[t(533)],{multi:!0}),novel[t(553)]=readSelector(novel[t(553)],{attr:"src"});let e=novel[t(594)].id.replace(/([./?|()'"$*^])/g,t(592));e=e[t(554)](/\{\{\s*id\s*\}\}/i,"(.+?)"),e=new RegExp(e),novel[t(594)].patt=e,debug(t(584),novel),($download=document[t(568)]("a")).id="novelDownloaderButton",$download[t(501)]=t(514)+(novel.placement||t(517)),$download[t(572)]="Tải EPUB",$download[t(575)]=t(557),$download[t(581)](t(530),createEpub),$download[t(581)](t(585),setChapterBegin),document[t(596)].appendChild($download),debug("Download button",$download)}}let $download,novel,jepub;try{init()}catch(e){console[_0x33d962(590)](e)}